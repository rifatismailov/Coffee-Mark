# ‚òï CoffeeMark ‚Äî Android –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –∫–∞–≤'—è—Ä–µ–Ω—å

**CoffeeMark** ‚Äî —Ü–µ –±–µ–∑–ø–µ—á–Ω–∏–π –º–æ–±—ñ–ª—å–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∫–ª—ñ—î–Ω—Ç—ñ–≤ —Ç–∞ –±–∞—Ä–∏—Å—Ç —É –º–µ—Ä–µ–∂—ñ –∫–∞–≤'—è—Ä–µ–Ω—å. –î–æ–¥–∞—Ç–æ–∫ –ø—ñ–¥—Ç—Ä–∏–º—É—î —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö, –æ–±–º—ñ–Ω –∫–ª—é—á–∞–º–∏, –ø–æ—à—É–∫ –∑–∞–∫–ª–∞–¥—ñ–≤, –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é —Ç–∞ –æ–±—Ä–æ–±–∫—É QR-–∫–æ–¥—ñ–≤, –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö —Ç–∞ —ñ–Ω—à—ñ —Ñ—É–Ω–∫—Ü—ñ—ó.

---

## üîê –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

* **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –∑ RSA-—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è–º**

  * –ö–ª—ñ—î–Ω—Ç –ø–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø—É–±–ª—ñ—á–Ω–æ–≥–æ –∫–ª—é—á–∞ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É.
  * –Ø–∫—â–æ –∫–ª—é—á –≤—ñ–¥—Å—É—Ç–Ω—ñ–π ‚Äî –Ω–∞–¥—Å–∏–ª–∞—î –∑–∞–ø–∏—Ç –Ω–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è.
  * –î–∞–Ω—ñ —à–∏—Ñ—Ä—É—é—Ç—å—Å—è –ø—É–±–ª—ñ—á–Ω–∏–º –∫–ª—é—á–µ–º —Å–µ—Ä–≤–µ—Ä–∞.

* **–†–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤**

  * `CLIENT`: –ø–æ—à—É–∫ –∫–∞–≤'—è—Ä–µ–Ω—å, –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–∞—Ä—Ç–æ–∫, –ø–µ—Ä–µ–≥–ª—è–¥ —ñ—Å—Ç–æ—Ä—ñ—ó.
  * `BARISTA`: –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å–≤–æ—ó–º–∏ –∫–∞–≤'—è—Ä–Ω—è–º–∏, —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏—Ö –∫–∞—Ä—Ç–æ–∫.

* **QR-–∫–æ–¥–∏ —Ç–∞ –ø—ñ–¥–ø–∏—Å–∏**

  * –ö–∞—Ä—Ç–∫–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤ –≤–º—ñ—â—É—é—Ç—å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ —Ç–∞ –ø—ñ–¥–ø–∏—Å –∫–ª—ñ—î–Ω—Ç–∞.
  * BARISTA —Å–∫–∞–Ω—É—î QR-–∫–æ–¥, –ø–µ—Ä–µ–≤—ñ—Ä—è—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∑–∞–∫–ª–∞–¥ (–Ω–∞–∑–≤–∞, –∞–¥—Ä–µ—Å–∞ —Ç–æ—â–æ).
  * –°—Ñ–æ—Ä–º–æ–≤—É—î –≤–ª–∞—Å–Ω–∏–π –ø—ñ–¥–ø–∏—Å —ñ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –Ω–∞ —Å–µ—Ä–≤–µ—Ä –æ–±–∏–¥–≤–∞ –ø—ñ–¥–ø–∏—Å–∏.
  * –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–≤—ñ—Ä—è—î —ó—Ö, —Ç–æ–º—É —â–æ –º–∞—î –ø—É–±–ª—ñ—á–Ω—ñ –∫–ª—é—á—ñ –æ–±–æ—Ö —Å—Ç–æ—Ä—ñ–Ω.

* **–õ–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Room**

  * –ö–∞—Ä—Ç–∫–∏, —ñ—Å—Ç–æ—Ä—ñ—è, —Å—Ç–∞—Ç—É—Å–∏ –∫–∞–≤ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –Ω–∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó.

---

## üîÅ –û–±–º—ñ–Ω –¥–∞–Ω–∏–º–∏ –∑ —Å–µ—Ä–≤–µ—Ä–æ–º

–î–æ–¥–∞—Ç–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **REST API —á–µ—Ä–µ–∑ Retrofit** –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ —Å–µ—Ä–≤–µ—Ä–æ–º. –î–∞–Ω—ñ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è —É —Ñ–æ—Ä–º–∞—Ç—ñ **JSON** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ **Gson**.

**–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó:**

* Retrofit ‚Äî HTTP –∫–ª—ñ—î–Ω—Ç
* GsonConverterFactory ‚Äî –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó JSON ‚Üî Java

**–ü—Ä–∏–∫–ª–∞–¥:**

```java
    @POST("/api/auth/register")
Call<RegisterResponse> registerUser(@Body RegisterRequest request);

@POST("/api/auth/authorization")
Call<AuthorizationResponse> getAuthorization(@Body AuthorizationRequest request);

@POST("/api/auth/public-key")
Call<PublicKeyResponse> getPublicKey(@Body PublicKeyRequest request);

@POST("/api/auth/local-public-key")
Call<LocalPublicKeyResponse> setLocalPublicKey(@Body LocalPublicKeyRequest request);

@Multipart
@POST("/api/files/upload")
Call<ResponseBody> uploadFile(@Part MultipartBody.Part file);


@GET("/api/files/download/{fileName}")
Call<ResponseBody> downloadFile(@Path("fileName") String fileName);

@POST("/api/request/search")
Call<SearchResponse> search(@Body SearchRequest request);
```

* `RetrofitClient` —Ñ–æ—Ä–º—É—î –±–∞–∑–æ–≤–∏–π URL (`http://192.168.177.3:8080`).
* –í—Å—ñ –∑–∞–ø–∏—Ç–∏ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—é—Ç—å—Å—è —á–µ—Ä–µ–∑ –∫–ª–∞—Å `ApiHelper`, —è–∫–∏–π –æ–±—Ä–æ–±–ª—è—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —Ç–∞ –ø–æ–º–∏–ª–∫–∏ —á–µ—Ä–µ–∑ –∫–æ–ª–±–µ–∫–∏ (`ApiCallback`).
* –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `AuthManager.registration(...)`, —â–æ —ñ–Ω–∫–∞–ø—Å—É–ª—é—î –≤—Å—é –ª–æ–≥—ñ–∫—É –≤–∏–∫–ª–∏–∫—É.

---

## üìÇ –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó

* –ö–ª—ñ—î–Ω—Ç: [github.com/rifatismailov/Coffee-Mark](https://github.com/rifatismailov/Coffee-Mark)
* –°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó —Ç–∞ –∫–ª—é—á—ñ–≤: [github.com/rifatismailov/coffee\_mark\_server](https://github.com/rifatismailov/coffee_mark_server)

---

## üöÄ –£ –º–∞–π–±—É—Ç–Ω—å–æ–º—É

* –®–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –ø–µ—Ä–µ–¥ –≤—ñ–¥–ø—Ä–∞–≤–∫–æ—é
* –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∫–∞—Ä—Ç–æ–∫ –º—ñ–∂ –¥–µ–≤–∞–π—Å–∞–º–∏
* –û–±–º—ñ–Ω –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏ –∑–∞–ª—ñ—à–∞—î—Ç—å—Å—è –≤ –ø–ª–∞–Ω–∞—Ö

---

> –†–æ–∑—Ä–æ–±–ª–µ–Ω–æ —Ä—ñ–∑–Ω–æ—Ä—ñ–≤–Ω–µ–≤–æ—é —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ—ó –≤–∑–∞—î–º–æ–¥—ñ—ó –º—ñ–∂ –∫–ª—ñ—î–Ω—Ç–æ–º —Ç–∞ –∫–∞–≤'—è—Ä–Ω–µ—é.
